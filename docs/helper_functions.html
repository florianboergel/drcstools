---

title: helper_functions

keywords: fastai
sidebar: home_sidebar

summary: "read and preprocess netcdf data"
description: "read and preprocess netcdf data"
nb_path: "03_helper_functions.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 03_helper_functions.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="rotated_grid_transform" class="doc_header"><code>rotated_grid_transform</code><a href="https://github.com/florianboergel/drcstools/tree/master/drcstools/helper_functions.py#L11" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>rotated_grid_transform</code>(<strong><code>grid_in</code></strong>, <strong><code>option</code></strong>, <strong><code>SP_coor</code></strong>)</p>
</blockquote>
<p>rotated pole</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="transform_calendar" class="doc_header"><code>transform_calendar</code><a href="https://github.com/florianboergel/drcstools/tree/master/drcstools/helper_functions.py#L64" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>transform_calendar</code>(<strong><code>ds</code></strong>, <strong><code>timedim</code></strong>=<em><code>'time'</code></em>, <strong><code>calendarname</code></strong>=<em><code>'proleptic_gregorin'</code></em>)</p>
</blockquote>
<p>Changes attributes of xarray dataset. Use in
combination with xr.open_dataset([...], decode_time=False)
Args:
    ds (object): xarray dataset
Kwargs:
    timedim (string): name of time dim
    calendarname (string): calendar name
Returns: ds</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="read_netcdfs" class="doc_header"><code>read_netcdfs</code><a href="https://github.com/florianboergel/drcstools/tree/master/drcstools/helper_functions.py#L79" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>read_netcdfs</code>(<strong><code>files</code></strong>, <strong><code>dim</code></strong>, <strong><code>transform_func</code></strong>, <strong><code>transform_calendar</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Reads multiples netcdfs files. Should be used when open_mfdatasets
is to slow.</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>files : Path to files (str)
dim : dimension to concat files (if transform_calendar=T, concat along time)
transform_func : additional preprocessing option
transform_calendar : name of calendar (see function transform_calendar())</p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>combined netcdf files as xarray object</p>
<h2 id="Example">Example<a class="anchor-link" href="#Example"> </a></h2><p>combined =  read_netcdfs("/silod5/boergel/tmp.nc", dim = "TIME",
            transform_func=lambda ds:ds.salt,
            transform_calendar="proleptic_gregorian")</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="adjust_lon_lat" class="doc_header"><code>adjust_lon_lat</code><a href="https://github.com/florianboergel/drcstools/tree/master/drcstools/helper_functions.py#L116" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>adjust_lon_lat</code>(<strong><code>ds</code></strong>, <strong><code>lon_name</code></strong>, <strong><code>lat_name</code></strong>, <strong><code>reverse</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Adjusts longitude from 0 to 360 to -180 to 180
and reverses lattiude.
Args:
    ds (xarray): xarray Dataset
    lon_name (str): name of Longitude in ds
    lat_name (str): name of latitude in ds
Returns: ds (xarray)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

